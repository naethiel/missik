#projects {
	background: url('../images/textblock-bg.gif');
	background-size: 8px 8px;
	@media
		only screen and (-webkit-min-device-pixel-ratio: 2),
		only screen and (   min--moz-device-pixel-ratio: 2),
		only screen and (     -o-min-device-pixel-ratio: 2/1),
		only screen and (        min-device-pixel-ratio: 2),
		only screen and (                min-resolution: 192dpi),
		only screen and (                min-resolution: 2dppx) {
		background: url("../images/textblock-bg@2x.gif");
		background-size: 8px 8px;
	}

	header {
		background: $gray-darker;
		padding-top: $spacer-xl;
		padding-bottom: $spacer-xl;
		position: relative;

		&:after {
			content: '';
			display: block;
			position: absolute;
			background: url("../images/triangle.svg");
			background-repeat: no-repeat;
			background-position: bottom right;
			width: 100px;
			height: 100px;
			bottom: 0;
			right: 0;
			transform: rotate(180deg);
		}

		h1, h2 {
			@include make-col-ready();
			@include media-breakpoint-up(lg) {
				@include make-col(6);
			}
		}
	}

	.projects-container {
		@include make-container();
		//
		// @each $breakpoint in map-keys($grid-breakpoints) {
		// 	@include media-breakpoint-up($breakpoint) {
		// 		max-width: map-get($container-max-widths, $breakpoint);
		// 	}
		// }

		padding-top: $spacer-xl;
		padding-bottom: $spacer-xl;
	}

	article {

		width: 100%;
		position: relative;
		margin-bottom: $spacer-lg;

		display: flex;
		flex-flow: column;
		justify-content: flex-end;
		align-items: flex-start;

		background: $gray-darker;
		box-shadow: 0 0 30px 0px rgba(0, 0, 0, 0.50);

		@include media-breakpoint-up(md) {
			min-height: 23rem;

			flex-flow: row;
			align-items: stretch;
			justify-content: flex-start;
			height: auto;
		}

		figure {
			@include media-breakpoint-up(md) {
				position: absolute;
				background-repeat: no-repeat;
				background-position: center;
				top: 0;
				left: 0;
				bottom: 0;
				right: 0;
				overflow: hidden;
				margin-bottom: 0;
				width: percentage(2 / 3);
				left: auto;

				&:before {
					/*
					*
					* Bevel for visuals. transform-origin is bottomright of block so that whatever the skew angle
					* it goes from top to bottom.
					*
					* The block needs to be large enough to cover the whole image even with high height blocks
					* or big skew angles, for my usage 50% seems enough.
					*
					* overflow:hidden on parent element helps for this not to show strangely or interact since
					* it gets clipped inside the <figure> block
					*
					*/
					content: "";
					display: block;
					position: absolute;
					background: $gray-darker;
					top: 0;
					bottom: 0;
					left: -50%;
					width: 50%;
					transform-origin: 100% 100%;
					transform: skewX(-15deg);
				}
			}

			img {
				@include img-fluid();

				@include media-breakpoint-up(md){
					display: block;
					max-width: 90%;
					max-height: 90%;
					position: absolute;
					bottom: 0;
					right: 0;
				}
			}
		}

		section {
			z-index: 2;
			padding: $spacer-lg $spacer;
			display: flex;
			flex-flow: column;
			align-items: flex-start;
			justify-content: flex-end;

			@include media-breakpoint-up(md) {
				padding: 3rem;
				max-width: percentage(2 / 3);
			}
			@include media-breakpoint-up(lg) {
				max-width: percentage(6 / 12);
			}

			h1, h2, h3, h4, h5, h6 {
				margin-bottom: $spacer-sm;
			}

			h1 {
				@include media-breakpoint-down(sm){
					font-size: 2rem;
				}
			}
			.meta {
				color: $brand-tertiary;
				margin-bottom: $spacer;
				font-size: $font-size-xs;
				font-weight: 500;
			}
		}
	}
}
